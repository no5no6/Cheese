# 模块化

+ 模块化规范
  - Commonjs 
    + 使用同步方式加载模块。
    + 一个文件就是一个模块。
    + 每个模块都有单独的作用域。
    + 通过 ` module.exports` 导出成员。
    + 通过 `require` 函数载入模块。
    + 多用于 `node` 环境。
  - AMD ( Asynchronous Module Definition )
    + 使用异步方式加载模块。
    + 通过 `define` 定义模块。
    + 多用于浏览器环境。
  - ES Modules ( ESM ) 规范 （ECMAScript 2015 即 ES6 新增规范）。
    + 自动采用严格模式，不用手动添加 `use strict` 。严格模式全局输出 `this` 为 `undefined` 。
    + 每个 ESM 都运行在单独的私有作用域。
    + ESM 是通过 CORS 的方式请求外部 JS 模块。
      - 需要服务端支持 CORS ，如果没支持会报一个跨域错误。
      - 不支持文件形式，必须为一个 http server 。
    + ESM 的 sciprt 标签会延迟执行脚本。等同于给 script 标签增加了 `defer` 属性